---
name: Dungeoneer
year: 2024
description: Comprueba qué objetos le faltan a un personaje en Final Fantasy XIV.
technologies:
  ["Next.js", "Cheerio", "Supabase", "Redis", "PostgreSQL", "Vercel"]
headerImage:
  src: "/portfolio/projects/dungeoneer.jpg"
  alt: "Captura de pantalla del sitio web de Dungeoneer"
cardImage:
  src: "/portfolio/cards/dungeoneer.png"
  alt: "Captura de pantalla del sitio web de Dungeoneer en móvil"
liveWebsite: "https://xiv-dungeoneer.vercel.app"
repository: "https://github.com/gomisroca/dungeoneer"
---

<strong>Dungeoneer</strong> es un proyecto que tiene como objetivo llevar un
registro de los objetos coleccionables que te faltan en las mazmorras, pruebas o
incursiones del juego Final Fantasy XIV. Puedes almacenar tu colección
localmente o iniciar sesión y almacenarla en tu cuenta.

<hr />

<h1 class="text-2xl">Tecnologías y Herramientas</h1>
<ul>
  <li>
    <h6 className="text-lg font-semibold">Next.js</h6>
    <p>
      Se eligió Next.js como framework para el proyecto debido a su simplicidad,
      facilidad de uso y adopción en toda la industria. Además, sabíamos que
      gran parte del proyecto podría beneficiarse de la renderización del lado
      del servidor, en la que Next.js destaca.
    </p>
    <p>
      Optamos por usar el moderno Next.js App Router, y en 2025 cambiamos de
      tRPC a una combinación de acciones del servidor y rutas API.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Redis</h6>
    <p>
      El proyecto contiene grandes conjuntos de datos a los que se accede con
      frecuencia, como listas de objetos o instancias. Por lo tanto, integramos
      Redis para optimizar el rendimiento almacenándolos en caché. Esto redujo
      la carga de la base de datos y mejoró significativamente los tiempos de
      respuesta para operaciones de lectura intensiva.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Auth.js</h6>
    <p>
      Una de las principales características del proyecto es la capacidad de
      iniciar sesión y almacenar tu colección en tu cuenta. Para lograrlo,
      usamos Auth.js, que proporciona una forma simple y segura de manejar la
      autenticación y autorización de usuarios.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Cheerio</h6>
    <p>
      Recopilar información de "The Lodestone", el sitio web de Final Fantasy
      XIV, es una tarea muy común en el proyecto. A menudo necesitamos buscar
      personajes o información específica sobre la colección de objetos de un
      personaje. Para lograrlo, usamos Cheerio, una biblioteca de análisis HTML
      rápida y flexible, que nos permitió extraer información del sitio web
      fácilmente.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">TailwindCSS + Motion</h6>
    <p>
      Tailwind nos proporcionó una forma rápida y confiable de diseñar el
      proyecto. Sin embargo, queríamos agregar algunas animaciones a ciertos
      elementos y usamos Motion (anteriormente Framer Motion) para lograrlo.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Supabase</h6>
    <p>
      Supabase es una base de datos en la nube que proporciona una solución
      sólida y escalable para almacenar y recuperar datos. La usamos para
      almacenar los datos del juego, la colección y la información del usuario,
      y para gestionar la autenticación del usuario. Además, usamos Supabase
      Buckets para almacenar las imágenes de los elementos.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Vercel</h6>
    <p>
      Dado que decidimos usar Next.js, implementar en Vercel parecía la mejor
      opción y la más eficiente. Utilizamos Analytics y Speed Insights de Vercel
      para asegurarnos de que el proyecto se desarrollara sin problemas.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">
      tRPC <span className="text-sm text-zinc-500 uppercase">Obsoleto</span>
    </h6>
    <p>
      Esperábamos que el proyecto tuviera muchas llamadas a la API y tipos de
      datos complejos, por lo que decidimos usar tRPC para gestionar la
      comunicación entre el cliente y el servidor y garantizar la seguridad de
      tipos y un desarrollo más rápido y seguro.
    </p>
    <p>
      En 2025, dimos por obsoleto tRPC en favor de una combinación de acciones
      de servidor y rutas de API, aprovechando las características nativas de
      Next.js, las edge functions y el almacenamiento en caché basado en Redis
      para mejorar el rendimiento y la facilidad de mantenimiento.
    </p>
  </li>
</ul>

<hr />

<h1 class="text-2xl">Roles y Responsabilidades</h1>
Este proyecto fue desarrollado por primera vez por un equipo de tres
desarrolladores en 2022. Sin embargo, finalmente se abandonó y me hice cargo del
proyecto en 2024 como su único desarrollador.
<ul>
  <li>
    <h6 className="text-lg font-semibold">Diseñador UI/UX</h6>
    <p>
      Diseñé la interfaz de usuario y la experiencia de usuario del proyecto.
      Usé Figma para crear los diseños y los implementé en el proyecto usando
      TailwindCSS y Motion.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Desarrollador full-stack</h6>
    <p>
      Implementé la funcionalidad del proyecto y me aseguré de que fuera seguro
      y escalable. Usé Next.js, tRPC, Auth.js y Supabase, entre otras
      herramientas, para desarrollar el proyecto. Posteriormente, también
      utilicé Redis para optimizar el proceso de obtención de datos, las
      acciones del servidor para gestionar las mutaciones y Cheerio para extraer
      información de Lodestone.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Mánager del proyecto</h6>
    <p>
      Como desarrollador único, fui responsable de su administración y
      mantenimiento general. Me aseguré de que el proyecto se mantuviera
      encaminado, con un enfoque en las características principales y las
      correcciones de errores, sin permitir que la acumulación de
      características distorsionara la dirección del proyecto.
    </p>
  </li>
</ul>

<hr />

<h1 class="text-2xl">Desafíos y Soluciones</h1>
<ul>
  <li>
    <h6 className="text-lg font-semibold">Revisión del proyecto</h6>
    <p>
      Una vez que asumí el proyecto como desarrollador único, sabía dos cosas:
      el proyecto no estaba terminado y las tecnologías utilizadas estaban
      desactualizadas. En este estado inicial, se usaba un stack simple de
      Angular + MongoDB. Decidí usar Next.js y cambiar a PostgreSQL, ya que
      parecían ser más adecuados para los requisitos del proyecto.
    </p>
    <p>
      En cuanto al frontend, el cambio fue relativamente sencillo. El frontend
      inicial no era complejo y replicarlo en Next.js fue bastante sencillo. Sin
      embargo, tuve que reescribir todo el backend desde cero. La base de datos
      era completamente diferente, al igual que la API y el sistema de
      autenticación.
    </p>
    <p>
      Al final, creo que esta revisión completa fue una buena decisión que ha
      dado lugar a un proyecto más sólido y escalable, con un ciclo de
      desarrollo más rápido.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">
      Desorden en la interfaz de usuario
    </h6>
    <p>
      Un problema al que me enfrenté al crear la interfaz de usuario fue el
      desorden. Había demasiados elementos en la página y el diseño no era
      intuitivo. Al mismo tiempo, quería mantener una estructura de navegación
      clara, para que los usuarios pudieran encontrar fácilmente lo que
      buscaban.
    </p>
    <p>
      Decidí simplificar la interfaz de usuario: el menú de navegación constaría
      de algunos botones que enlazaran a las secciones principales y un menú
      desplegable para otras secciones y opciones como el inicio de sesión y el
      cambio de tema.
    </p>
    <p>
      De manera similar, las tarjetas de elementos también se simplificaron. En
      lugar de que el texto indique qué tipo de artículo es o de dónde proviene,
      decidí usar íconos para representarlo y menús desplegables para mostrar
      los detalles del artículo.
    </p>
    <p>
      En general, si bien hay margen de mejora, creo que el diseño actual es un
      buen equilibrio entre funcionalidad y claridad visual.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">
      Obtención de datos y virtualización
    </h6>
    <p>
      Como mencioné anteriormente, el proyecto contiene grandes conjuntos de
      datos a los que se accede con frecuencia, como listas de objetos o
      instancias. Esto, si no se gestiona correctamente, podría provocar
      problemas de rendimiento y tiempos de respuesta lentos.
    </p>
    <p>
      Para solucionar esto, inicialmente implementé una estrategia de búsqueda
      basada en desplazamiento, donde el usuario se desplazaba por la lista de
      elementos y estos se obtenían por lotes. Esto funcionó bien y los datos se
      obtenían y cargaban rápidamente. Sin embargo, el rendimiento se degradaba
      considerablemente a medida que el usuario se desplazaba hacia abajo en la
      lista.
    </p>
    <p>
      Para mejorar el rendimiento, implementé un componente de lista
      virtualizada que solo representaba los elementos visibles. Esto permitió
      una experiencia de usuario más fluida, ya que el usuario solo veía los
      elementos visibles en la pantalla y los datos se recuperaban solo cuando
      eran necesarios.
    </p>
  </li>
  <li>
    <h6 className="text-lg font-semibold">Adquisición de datos</h6>
    <p>
      Inicialmente, el proyecto dependía de las funciones Lodestone de XIVAPI
      para buscar personajes y sus colecciones. Sin embargo, quedaron obsoletas
      después de XIVAPI v2, y las API y bibliotecas alternativas no eran tan
      adecuadas para las necesidades del proyecto.
    </p>
    <p>
      Lodestone es un sitio web notoriamente difícil de hacer scraping, y esta
      fue mi primera vez intentando un scraping tan amplio. Sin embargo, gracias
      a la ayuda de la comunidad, logré implementar Cheerio para scrapear el
      sitio web y extraer los datos necesarios. Con esto, realicé una revisión
      completa de las funciones relacionadas con Lodestone, como la búsqueda de
      personajes y la obtención de colecciones.
    </p>
    <p>
      El resultado final es un sistema más robusto y confiable, sin
      intermediarios innecesarios ni dependencias externas.
    </p>
  </li>
</ul>
